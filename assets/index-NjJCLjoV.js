var t=Object.defineProperty,e=(e,s,a)=>(((e,s,a)=>{s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a})(e,"symbol"!=typeof s?s+"":s,a),a);import{p as s}from"./phaser-cxBNu8M8.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const a=class t{static isFps60(){return t.fps.fps60}static isAllowUpdate(){return t.fps.allowUpdate}static isGameOver(){return t.gameOver}static getScaleGame(){return t.scaleGame}static isPausaInicial(){return t.pausa.inicial.activa}static getPausaInicialDuracion(){return t.pausa.inicial.duracion}static getPuntos(){return t.puntos}static getShowCurrent(){return t.showCurrent}static getNombre(){return t.nombre}static getRecord(){return t.hi}static getTop(){return t.top}static getTxtScore(){return t.txtScore}static getGrados(){return t.flecha.grados}static getCargadorNumFlechas(){return t.cargador.num_flechas}static getUrlGet(){return t.URL.URL_G}static getUrlSendscore(){return t.URL.URL_P}static setFps60(e){t.fps.fps60=e}static setAllowUpdate(e){t.fps.allowUpdate=e}static setGameOver(e){t.gameOver=e}static setScaleGame(e){t.scaleGame=e}static setPausaInicial(e){t.pausa.inicial.activa=e}static setPuntos(e){t.puntos=e}static setShowCurrent(e){t.showCurrent=e}static setNombre(e){t.nombre=e}static setRecord(e){t.hi=e}static setTop(e){t.top=e}static setGrados(e){t.flecha.grados=e}static setCargadorNumFlechas(e){t.cargador.num_flechas=e}};e(a,"controlElegido",{mobile:!1,keyboard:!0}),e(a,"queTeclaPulsar",["space","shift","up","down","right","left"]),e(a,"screen",{width:1024,height:600,escBoundsX:1,escBoundsY:1}),e(a,"scaleGame",1),e(a,"fps",{fps60:!0,allowUpdate:!0}),e(a,"puntos",0),e(a,"showCurrent",0),e(a,"nombre","IMI"),e(a,"hi",1e3),e(a,"top",[1e3,900,800,750,500,400,300,250,150,100]),e(a,"gameOver",!1),e(a,"txtScore","Score: "),e(a,"fontSettings",{id:"font-fire",arrayLetras:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.-@",size:48,osX:4,osY:4,oriX:.5,oriY:.5,color:16776960,alpha:.3}),e(a,"arco",{iniX:0,iniY:Math.floor(a.screen.height/2),scl:[1,1],origin:[0,.5]}),e(a,"flecha",{iniX:-500,iniY:Math.floor(a.screen.height/2),scl:[1,1],origin:[1,.5],vel:10,grados:0,maxGrados:40,perfectGrados:20}),e(a,"estadosFlecha",{enArco:"en-arco",enMovimiento:"en-movimiento",enMovimiento2:"en-movimiento-2",clavada:"clavada",clavadaNo:"clavada-no"}),e(a,"cargador",{num_flechas:10,step:25,m_left:25,iniX:0,iniY:Math.floor(a.screen.height/1.2),scl:[1,1],origin:[.5,.5],angle:90,recargar_flechas:10}),e(a,"diana",{iniX:Math.floor(a.screen.width),iniY:a.screen.height+150,scl:[1,1],origin:[1,.5],vel:2}),e(a,"dianaShow",{iniX:Math.floor(a.screen.width/2),iniY:Math.floor(a.screen.height/1.3),scl:[1,1],origin:[.5,.5]}),e(a,"gameover",{txt:{txt:" Game Over ",iniX:Math.floor(a.screen.width/2),iniY:Math.floor(a.screen.height/2),scl:[1,1],origin:[.5,.5]}}),e(a,"pausa",{inicial:{activa:!1,duracion:4300}}),e(a,"depth",{fondo:0,arco:100,flecha:200,diana:300,efectos:400,botones:500,marcadores:700,controles:800,textos:900}),e(a,"audio",{numKey:null,key:null,overture:null}),e(a,"URL",{URL_G:"https://ejemplo-node-railway-production.up.railway.app/all",URL_P:"https://ejemplo-node-railway-production.up.railway.app/create"});let o=a;class i{constructor(t,e){this.relatedScene=t,this.datos=e}create(){const{x:t,y:e,txt:s,size:a,color:o,style:i,stroke:r,sizeStroke:n,shadowOsx:h,shadowOsy:c,shadowColor:d,bool1:l,bool2:g,origin:f,elastic:u,dura:p}=this.datos;this.texto=this.relatedScene.add.text(t,e,s,{fontSize:a+"px",fill:o,fontFamily:"verdana, arial, sans-serif",fontStyle:i}),this.texto.setOrigin(f[0],f[1]),this.texto.setStroke(r,n),this.texto.setShadow(h,c,d,2,l,g),this.elastic(s,u,p),console.log(this.texto)}elastic(t,e,s){s>0&&this.relatedScene.tweens.add({targets:this.texto,y:e,ease:"Elastic",duration:s})}get(){return this.texto}}class r extends s.Scene{constructor(){super("Boot")}init(){this.txt=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:Math.floor(this.sys.game.config.height/2),txt:" Touch screen or \n \n click to start... ",size:60,color:"#ffa",style:"bold",stroke:"#fb1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0})}preload(){this.load.image("fondo","assets/img/bg.png")}create(){this.add.image(0,0,"fondo").setOrigin(0,0),this.txt.create(),this.input.on("pointerdown",(()=>this.scene.start("Preloader"))),console.log(this.txt)}}class n{constructor(t,e){this.relatedScene=t,this.datos=e}create(){const{x:t,y:e,size:s,txt:a,color:i,strokeColor:r,id:n}=this.datos;let h="";0===n&&(h=`${a}${o.getPuntos()}`),1===n&&(h=`${a}${o.getNombre()}`),2===n&&(h=`${a}${o.getRecord()}`),3===n&&(h=`${a}${o.getGrados()}ยบ`),4===n&&(h=`${a}${o.getShowCurrent()}`),this.marcador=this.relatedScene.add.text(t,e,h,{fontSize:s+"px",fill:i,fontFamily:"verdana, arial, sans-serif",fontStyle:"bold"}),this.marcador.setStroke(r,16).setShadow(2,2,"#111111",2,!1,!0),console.log(this.marcador)}update(t,e){this.marcador.setText(`${t}${e}`)}get(){return this.marcador}}class h{constructor(t){this.relatedScene=t}create(){o.getScaleGame();const{iniX:t,iniY:e,scl:s,origin:a}=o.arco;this.arco=this.relatedScene.physics.add.sprite(t,e,"arco",1),this.arco.setOrigin(a[0],a[1]).setScale(s[0],s[1]),this.arco.setDepth(o.depth.arco).setFrame(1),this.arco.setData("estado","sin-flecha"),this.arco.setData("width",this.arco.width),console.log(this.arco)}update(t){"sin-flecha"===t?this.arco.setFrame(1):this.arco.setFrame(0)}get(){return this.arco}}function c(t,e,s){t.volume=s,t.loop=e,t.play()}class d{constructor(t){this.relatedScene=t}create(){o.getScaleGame();const{iniX:t,iniY:e,scl:s,origin:a}=o.flecha;this.flecha=this.relatedScene.physics.add.sprite(t,e,"flecha"),this.flecha.setOrigin(a[0],a[1]).setScale(s[0],s[1]),this.flecha.setDepth(o.depth.flecha),this.flecha.setData("width",this.flecha.width),this.flecha.setData("estado","en-arco"),this.sonido_arrow2=this.relatedScene.sound.add("arrow-2"),console.log(this.flecha)}update(){const t=o.flecha.vel;if("en-movi"!==this.flecha.getData("estado").slice(0,7)&&"clavada-no"!==this.flecha.getData("estado")||(this.flecha.x+=t),this.flecha.x>=this.relatedScene.sys.game.config.width&&"clavada"!==this.flecha.getData("estado").slice(0,7)){if(this.check_impactoDiana()){this.flecha.setData("estado","clavada");const t=this.calc_currentScore()+this.calc_currentScoreDeg();o.setShowCurrent(t),this.relatedScene.marcadorCurrent.update("Pts: ",o.getShowCurrent()),o.setPuntos(o.getPuntos()+o.getShowCurrent()),this.relatedScene.marcadorPtos.update(o.getTxtScore(),o.getPuntos()),this.showTarget(),this.make_tweensCurrent(),c(this.sonido_arrow2,!1,.9)}else this.flecha.setData("estado","clavada-no");this.relatedScene.marcadorCurrent.update("Pts: ",`${o.getShowCurrent()}`)}"clavada"===this.flecha.getData("estado")&&(this.flecha.y+=this.relatedScene.diana.get().getData("vel"))}check_impactoDiana(){return Math.abs(this.relatedScene.diana.get().y-this.flecha.y)<Math.floor(this.relatedScene.diana.get().height/2)}calc_currentScore(){const t=Math.abs(this.relatedScene.diana.get().y-this.flecha.y),e=Math.floor(this.relatedScene.diana.get().height/2)-t;return e<0?0:e}calc_currentScoreDeg(){const t=o.flecha.perfectGrados;return 6*(t-Math.abs(t-o.getGrados()))}showTarget(){const t=this.relatedScene.diana.get().y-this.flecha.y,e=6*(o.flecha.perfectGrados-o.getGrados());this.relatedScene.dianashow.update(t,e)}make_tweensCurrent(){return this.relatedScene.tweens.add({targets:this.relatedScene.marcadorCurrent.get(),scale:1.5,ease:"elastic",yoyo:!0,duration:900})}get(){return this.flecha}}class l{constructor(t){this.relatedScene=t}create(){o.getScaleGame();const{num_flechas:t,step:e,m_left:s,iniX:a,iniY:i,scl:r,origin:n,angle:h}=o.cargador;this.relatedScene.add.rectangle(a,i,11*e,100+e,1118481).setOrigin(0,.5),this.relatedScene.add.rectangle(a,i,11*e,100+e).setOrigin(0,.5).setStrokeStyle(2,11184810),this.cargador=this.relatedScene.physics.add.staticGroup();for(let o=0;o<t;o++)this.cargador.create(a+s+e*o,i,"flecha");this.cargador.children.iterate((t=>{t.setOrigin(n[0],n[1]).setScale(r[0],r[1]).setAngle(h),t.setDepth(o.depth.diana+80).setVisible(!0),t.setData("estado","visible")})),console.log(this.cargador)}get(){return this.cargador}}class g{constructor(t){this.relatedScene=t}create(){o.getScaleGame();const{iniX:t,iniY:e,scl:s,origin:a,vel:i}=o.diana;this.diana=this.relatedScene.physics.add.sprite(t,e,"diana"),this.diana.setOrigin(a[0],a[1]).setScale(s[0],s[1]),this.diana.setDepth(o.depth.diana),this.diana.setY(e),this.diana.setData("vel",i),this.diana.setData("estado","parada"),console.log(this.diana)}update(){o.isGameOver()||(this.diana.y+=this.diana.getData("vel"),this.diana.y>=this.relatedScene.sys.game.config.height+this.diana.height&&(this.diana.y=-this.diana.height,this.relatedScene.arco.get().setData("estado","con-flecha"),this.relatedScene.arco.update(this.relatedScene.arco.get().getData("estado")),o.getCargadorNumFlechas()>0?(this.another_arrow(),this.reset_degrees(),this.reset_currentScore()):(console.log("fin"),this.reset_degrees(),this.reset_currentScore(),o.setGameOver(!0),this.relatedScene.gameover.create(),c(this.relatedScene.sonido_gameover,!1,.9)),c(this.relatedScene.sonido_numkey,!1,.9)))}another_arrow(){const t=o.getCargadorNumFlechas(),e=this.relatedScene.flecha.get().getData("width"),s=o.flecha.iniY;this.relatedScene.cargador.get().getChildren()[t-1].setVisible(!1),o.setCargadorNumFlechas(t-1),this.relatedScene.flecha.get().setX(e),this.relatedScene.flecha.get().setY(s),this.relatedScene.flecha.get().setData("estado","en-arco")}reset_degrees(){o.setGrados(0),this.relatedScene.marcadorGrados.update("Deg: ",`${o.getGrados()}ยบ`)}reset_currentScore(){o.setShowCurrent(0),this.relatedScene.marcadorCurrent.update("Pts: ",o.getShowCurrent())}get(){return this.diana}}class f{constructor(t){this.relatedScene=t}create(){o.getScaleGame();const{iniX:t,iniY:e,scl:s,origin:a}=o.dianaShow;this.dianashow=this.relatedScene.physics.add.sprite(t,e,"diana-show"),this.dianashow.setOrigin(a[0],a[1]).setScale(s[0],s[1]),this.dianashow.setDepth(o.depth.flecha+80).setVisible(!1),this.dianashow.setX(t).setY(e),console.log(this.dianashow)}update(t,e){console.log("target"),this.relatedScene.add.rectangle(this.dianashow.x+t,this.dianashow.y+e,5,5).setOrigin(.5,.5).setStrokeStyle(2,1118481).setDepth(o.depth.efectos+20)}get(){return this.dianashow}}class u{constructor(t,e){this.relatedScene=t,this.args=e}create(){o.audio.numKey=this.relatedScene.sound.add("numkey");const{left:t,top:e,id:s,scX:a,scY:r,angle:n,originX:h,originY:d,texto:l,nextScene:g}=this.args;this.boton=this.relatedScene.add.sprite(t,e,s).setInteractive(),this.boton.setScale(a,r).setAngle(1).setDepth(o.depth.botones);let f=24;s.includes("settings")&&(f=20),this.txt=new i(this.relatedScene,{x:t,y:e,txt:l,size:f,color:"#ff1",style:"bold",stroke:"#1bd",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0}),this.txt.create(),this.txt.get().setDepth(o.depth.textos).setAlpha(1).setScale(1)," Continue "===l&&this.txt.get().setVisible(!1),this.boton.on("pointerover",(()=>{this.boton.setScale(a+.04,r+.04)})),this.boton.on("pointerout",(()=>{this.boton.setScale(a,r)})),this.boton.on("pointerdown",(t=>{c(o.audio.numKey,!1,.8),this.relatedScene.scene.start(g)})),this.relatedScene.tweens.add({targets:[this.boton,this.txt.get()],angle:359,ease:"Elastic",yoyo:!0,hold:3e3,duration:2e3,repeat:-1})}get(){return this.boton}}class p{constructor(t,e){this.relatedScene=t,this.args=e}create(){const{x:t,y:e,id:s,orX:a,orY:i,scX:r,scY:n,ang:h}=this.args;this.boton=this.relatedScene.add.image(t,e,s).setInteractive(),this.boton.setOrigin(a,i).setScale(r,n),this.boton.setAngle(h).setFrame(0).setDepth(o.depth.marcadores),this.boton.setX(t).setY(e),this.boton.on("pointerover",(()=>{this.boton.setScale(r+.1,n+.1)})),this.boton.on("pointerout",(()=>{this.boton.setScale(r,n)})),this.boton.on("pointerdown",(()=>{this.relatedScene.scale.isFullscreen?this.relatedScene.scale.stopFullscreen():this.relatedScene.scale.startFullscreen()}))}}let m=class{constructor(t){this.relatedScene=t}create(){o.getScaleGame();const{txt:t,iniX:e,iniY:s,scl:a,origin:r}=o.gameover.txt;this.txtgameover=new i(this.relatedScene,{x:e,y:s,txt:t,size:75,color:"#ffa",style:"bold",stroke:"#f21",sizeStroke:12,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[r[0],r[1]],elastic:!1,dura:0}),this.txtgameover.create(),this.txtgameover.get().setDepth(o.depth.textos).setAlpha(0),this.relatedScene.tweens.add({targets:this.txtgameover.get(),alpha:1,duration:2500}),this.relatedScene.time.delayedCall(2e3,(()=>{c(this.relatedScene.sonido_aplausosBirdie,!1,.9)})),this.relatedScene.time.delayedCall(3500,(()=>{this.relatedScene.botonrejugar.get().setVisible(!0),this.relatedScene.botonrejugar.txt.get().setVisible(!0)})),console.log(this.txtgameover)}get(){return this.txtgameover}};class w extends s.Scene{constructor(){super("Game")}init(){o.audio.overture.volume=0,o.setGameOver(!1),o.setPuntos(0),o.setCargadorNumFlechas(o.cargador.recargar_flechas),this.set_sonidos(),this.set_pausaInicial(o.getPausaInicialDuracion()),this.arco=new h(this),this.flecha=new d(this),this.cargador=new l(this),this.diana=new g(this),this.dianashow=new f(this),this.gameover=new m(this),this.instanciar_marcadores()}preload(){}create(){this.add.image(0,0,"fondo").setDepth(o.depth.fondo).setOrigin(0,0),this.arco.create(),this.flecha.create(),this.cargador.create(),this.diana.create(),this.dianashow.create(),this.marcadorPtos.create(),this.marcadorNombre.create(),this.marcadorHi.create(),this.marcadorGrados.create(),this.marcadorCurrent.create(),this.botonfullscreen.create(),this.botonrejugar.create(),this.botonrejugar.get().setVisible(!1),this.texto_info("Info"),this.controles=this.input.keyboard.createCursorKeys(),console.log(this.controles)}update(){if(!o.isFps60()){if(o.isAllowUpdate())return void o.setAllowUpdate(!1);o.setAllowUpdate(!0)}o.isPausaInicial()||o.isGameOver()||(function(t){if(!o.controlElegido.keyboard)return;const e=o.flecha.maxGrados,s=o.queTeclaPulsar[0],{enArco:a,enMovimiento:i,enMovimiento2:r}=o.estadosFlecha;t.flecha.get().getData("estado")===a&&t.controles[s].isDown&&(t.flecha.get().setData("estado",i),t.arco.get().setData("estado","sin-flecha"),t.arco.update(t.arco.get().getData("estado")),c(t.sonido_arrow1,!1,.9)),(t.flecha.get().getData("estado")===i&&t.controles[s].isUp||t.flecha.get().getData("estado")===i&&o.getGrados()>=e)&&t.flecha.get().setData("estado",r),t.flecha.get().getData("estado")===i&&(o.setGrados(o.getGrados()+1),t.marcadorGrados.update("Deg: ",`${o.getGrados()}ยบ`))}(this),function(t){if(!o.controlElegido.mobile)return;const e=o.flecha.maxGrados,{enArco:s,enMovimiento:a,enMovimiento2:i}=o.estadosFlecha;t.flecha.get().getData("estado")===s&&t.input.activePointer.isDown&&(t.flecha.get().setData("estado",a),t.arco.get().setData("estado","sin-flecha"),t.arco.update(t.arco.get().getData("estado")),c(t.sonido_arrow1,!1,.9)),(t.flecha.get().getData("estado")===a&&!t.input.activePointer.isDown||t.flecha.get().getData("estado")===a&&o.getGrados()>=e)&&t.flecha.get().setData("estado",i),t.flecha.get().getData("estado")===a&&(o.setGrados(o.getGrados()+1),t.marcadorGrados.update("Deg: ",`${o.getGrados()}ยบ`))}(this),this.flecha.update(),this.diana.update())}set_pausaInicial(t){o.setPausaInicial(!0),this.txtpreparado=new i(this,{x:Math.floor(this.sys.game.config.width/2)*o.getScaleGame(),y:0,txt:"Ready!",size:78,color:"#ffa",style:"bold",stroke:"#f81",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:Math.floor(this.sys.game.config.height/2),dura:2800}),this.txtpreparado.create(),this.txtpreparado.get().setDepth(o.depth.textos),this.add.timeline([{at:t,run:()=>{o.setPausaInicial(!1),this.txtpreparado.get().setVisible(!1),this.set_txtGo()}}]).play(),c(this.sonido_getReady,!1,.8),console.log(this.txtpreparado)}set_txtGo(){const t=new i(this,{x:Math.floor(this.sys.game.config.width/2)*o.getScaleGame(),y:Math.floor(this.sys.game.config.height/2),txt:" Go! ",size:90,color:"#ffa",style:"bold",stroke:"#f81",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0});t.create(),t.get().setDepth(o.depth.textos),this.tweens.add({targets:t.get(),alpha:0,duration:1200}),this.dianashow.get().setVisible(!0),c(this.sonido_gooo,!1,.9)}texto_enhorabuena(){this.txtcongrats=new i(this,{x:Math.floor(this.sys.game.config.width/1.8),y:0,txt:" Congratulations! ",size:70,color:"#ffa",style:"bold",stroke:"#5f1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:this.jugador.get().y-o.tileXY.y,dura:o.pausa.nivelSuperado.duracion}),this.txtcongrats.create(),this.txtcongrats.get().setDepth(o.depth.textos)}texto_info(t){t=o.controlElegido.mobile?" To Shoot an arrow \n touch and hold-touch ":" To Shoot an arrow \n press space-bar \n and hold-press ",this.txtInfo=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:Math.floor(this.sys.game.config.height/1.18),txt:t,size:40,color:"#ffa",style:"bold",stroke:"#ef1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0}),this.txtInfo.create(),this.txtInfo.get().setDepth(o.depth.textos),this.tweens.add({targets:this.txtInfo.get(),alpha:0,duration:9e3})}instanciar_marcadores(){const t=this.sys.game.config.width,e=this.sys.game.config.height;this.marcadorPtos=new n(this,{x:10,y:0,size:40,txt:o.getTxtScore(),color:"#fff",strokeColor:"#af1",id:0}),this.marcadorHi=new n(this,{x:Math.floor(t/2.6),y:0,size:40,txt:" Record: ",color:"#fff",strokeColor:"#16d",id:2}),this.marcadorNombre=new n(this,{x:Math.floor(t/1.35),y:0,size:40,txt:" ",color:"#ff5",strokeColor:"#16d",id:1}),this.marcadorGrados=new n(this,{x:10,y:90,size:50,txt:"Deg: ",color:"#fff",strokeColor:"#f51",id:3}),this.marcadorCurrent=new n(this,{x:Math.floor(t/1.8),y:Math.floor(e/3.5),size:50,txt:"Pts: ",color:"#fff",strokeColor:"#f51",id:4}),this.botonfullscreen=new p(this,{x:Math.floor(t/1.1),y:7,id:"boton-fullscreen",orX:0,orY:0,scX:1.2,scY:.8,ang:0}),this.botonrejugar=new u(this,{left:Math.floor(this.sys.game.config.width/1.25),top:Math.floor(this.sys.game.config.height/1.3),id:"boton-nueva-partida",scX:.6,scY:.5,angle:1,originX:.5,originY:.5,texto:" Continue ",nextScene:"MainMenu"})}set_sonidos(){this.sonido_key=this.sound.add("key"),this.sonido_numkey=this.sound.add("numkey"),this.sonido_aplausosEagle=this.sound.add("aplausos-eagle"),this.sonido_aplausosBirdie=this.sound.add("aplausos-birdie"),this.sonido_arrow1=this.sound.add("arrow-1"),this.sonido_arrow2=this.sound.add("arrow-2"),this.sonido_abucheos=this.sound.add("abucheos"),this.sonido_getReady=this.sound.add("get-ready"),this.sonido_gooo=this.sound.add("gooo"),this.sonido_fireworks=this.sound.add("fireworks"),this.sonido_gameover=this.sound.add("gameover")}}class S extends s.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}class y extends s.Scene{constructor(){super("MainMenu")}init(){this.botoninicio=new u(this,{left:Math.floor(this.sys.game.config.width/2),top:Math.floor(this.sys.game.config.height/1.25),id:"boton-nueva-partida",scX:.6,scY:.5,angle:1,originX:.5,originY:.5,texto:" New Game ",nextScene:"PreNivel"}),this.txt=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:0,txt:" Archery ",size:120,color:"#ffa",style:"bold",stroke:"#fa1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:Math.floor(this.sys.game.config.height/4),dura:3e3}),this.txtRecords=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:0,txt:" Tabla records ",size:28,color:"#ffa",style:"bold",stroke:"#5e1",sizeStroke:7,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:Math.floor(this.sys.game.config.height/1.7),dura:3e3})}preload(){}create(){o.audio.overture=this.sound.add("overture"),this.add.image(0,0,"fondo").setOrigin(0,0).setDepth(o.depth.fondo),this.txt.create(),this.txt.get().setDepth(o.depth.textos),this.txtRecords.create(),this.txtRecords.get().setVisible(!0).setDepth(o.depth.textos),console.log(this.txtRecords.get().visible),this.add.text(Math.floor(this.sys.game.config.width/3.4),Math.floor(this.sys.game.config.height/1.04),"Based on classic arcade game Hyper Sports of 1984",{fontSize:"16px",color:"#9ff",align:"justify",fontFamily:"Arial"});const t=[Math.floor(this.sys.game.config.width/2),Math.floor(this.sys.game.config.height/20),Math.floor(this.sys.game.config.height/5)];this.add.timeline([{at:1800,run:()=>{this.botoninicio.create(),function(t,e,s,a,i,r,n,h,c,d){const l=d.add.particles(t,e,"particula1",{speed:{min:60,max:120},lifespan:{min:2500,max:3e3},scale:{start:.2,end:0},tint:16763921,blendMode:"ADD"});l.setDepth(o.depth.efectos)}(t[0],t[2]+50,0,0,0,0,0,0,0,this)}}]).play(),this.add.timeline([{at:7e3,run:()=>{this.txtRecords.get().visible?this.txtRecords.get().setVisible(!1):this.txtRecords.get().setVisible(!0)}}]).repeat(-1).play(),c(o.audio.overture,!1,.8),console.log(this.txt)}update(){}catch_record(t,e){1===t&&o.setRecord(e)}}class x extends s.Scene{constructor(){super("Preloader")}init(){const t=this.sys.game.config.width,e=this.sys.game.config.height;this.load.image("fondo","assets/img/bg.png"),this.add.image(0,0,"fondo").setOrigin(0,0),this.txt=new i(this,{x:Math.floor(t/2),y:Math.floor(e/3.5),txt:" Loading...",size:55,color:"#ffa",style:"bold",stroke:"#f91",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0}),this.txt.create(),this.add.rectangle(Math.floor(t/2),Math.floor(e/2),Math.floor(t/1.5),Math.floor(e/12)).setStrokeStyle(1,16772744);const s=this.add.rectangle(Math.floor(t/2)-Math.floor(t/3)+4,Math.floor(e/2),4,Math.floor(e/14),16750865);this.load.on("progress",(e=>{s.width=Math.floor(t/1.52)*e}))}preload(){this.load.setPath("assets"),this.load.image("fondo","./img/fondo-verde.png"),this.load.image("archery-img","./img/archeryImg.png"),this.load.image("boton-nueva-partida","./img/ui-newgame.png"),this.load.image("boton-more-settings","./img/ui-newgame.png"),this.load.spritesheet("radio-buttons","./img/radio-buttons-ssheet.png",{frameWidth:50,frameHeight:50}),this.load.spritesheet("boton-fullscreen","./img/boton-fullscreen.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("arco","./img/arco-v3-ssheet.png",{frameWidth:75,frameHeight:100}),this.load.image("flecha","./img/flecha-v2.png"),this.load.image("diana","./img/diana.png"),this.load.image("diana-show","./img/dianashow.png"),this.load.image("particula1","./img/particula1.png"),this.load.bitmapFont("font-fire","/img/azo-fire.png","/img/azo-fire.xml"),this.load.audio("key","./audio/key.wav"),this.load.audio("numkey","./audio/numkey.wav"),this.load.audio("aplausos-birdie","./audio/aplausosbirdie.mp3"),this.load.audio("aplausos-eagle","./audio/aplausoseagle.mp3"),this.load.audio("arrow-1","./audio/arrow1.mp3"),this.load.audio("arrow-2","./audio/arrow2.mp3"),this.load.audio("abucheos","./audio/boooh.mp3"),this.load.audio("overture","./audio/Overture.ogg"),this.load.audio("fireworks","./audio/fireworks.mp3"),this.load.audio("get-ready","./audio/get-ready.mp3"),this.load.audio("gooo","./audio/gooo.mp3"),this.load.audio("gameover","./audio/gameover.mp3")}create(){this.scene.start("MainMenu")}}class b{constructor(t,e){this.relatedScene=t,this.args=e}create(){const{left:t,top:e,addLeft:s,orX:a,orY:r,frame:n,scale:h,txtSize:c,texto:d,id:l}=this.args;this.radiobutton=this.relatedScene.add.sprite(t,e,"radio-buttons").setInteractive(),this.radiobutton.setOrigin(a,r).setScale(h).setDepth(o.depth.textos).setFrame(n),this.radiobutton.setData("id",l),this.txt=new i(this.relatedScene,{x:t+60+s,y:e,txt:d,size:c,color:"#ffa",style:"bold",stroke:"#fa1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[a,r],elastic:!1,dura:0}),this.txt.create(),this.txt.get().setDepth(o.depth.textos),this.radiobutton.on("pointerover",(()=>{this.txt.get().setScale(h+.1),this.radiobutton.setScale(h+.1)})),this.radiobutton.on("pointerout",(()=>{this.txt.get().setScale(h),this.radiobutton.setScale(h)})),this.radiobutton.on("pointerdown",(t=>{l.includes("FPS")?this.relatedScene.radioFps.forEach((t=>t.get().setFrame(0))):l.includes("control")?this.relatedScene.radiobuttons.forEach((t=>t.get().setFrame(0))):l.includes("velocity")?this.relatedScene.radioSpeed.forEach((t=>t.get().setFrame(0))):l.includes("mode")&&this.relatedScene.radioInvulnerability.forEach((t=>t.get().setFrame(0))),this.radiobutton.setFrame(1),l.includes("FPS")?o.isFps60()?o.setFps60(!1):o.setFps60(!0):l.includes("control")?(Object.keys(o.controlElegido).forEach((t=>{o.controlElegido[t]=!1})),o.controlElegido[this.radiobutton.getData("id").slice(0,-8)]=!0,console.log(o.controlElegido.mobile,o.controlElegido.keyboard)):l.includes("velocity")?o.setConfigVel(parseInt(l.slice(0,1))):l.includes("mode")&&(o.isInvisible()?o.setInvisible(!1):o.setInvisible(!0)),console.log(o.isFps60())}))}get(){return this.radiobutton}}class v extends s.Scene{constructor(){super("PreNivel")}init(){o.setPuntos(0),o.setGameOver(!1),o.controlElegido.mobile=!1,o.controlElegido.keyboard=!0,this.botoninicio=new u(this,{left:Math.floor(this.sys.game.config.width/2),top:Math.floor(this.sys.game.config.height/1.3),id:"boton-nueva-partida",scX:.6,scY:.5,angle:1,originX:.5,originY:.5,texto:" Start ",nextScene:"Game"}),this.botonmoresettings=new u(this,{left:Math.floor(this.sys.game.config.width/1.15),top:Math.floor(this.sys.game.config.height/1.2),id:"boton-more-settings",scX:.6,scY:.8,angle:0,originX:.5,originY:.5,texto:"  More\nSettings",nextScene:"More-Settings"}),this.radiobuttons=[],this.radiobuttons.push(new b(this,{left:Math.floor(this.sys.game.config.width/15),top:Math.floor(this.sys.game.config.height/6),addLeft:0,orX:0,orY:.5,frame:1,scale:1,txtSize:45,texto:" Keyboard cursors/space",id:"keyboard-control"})),this.radiobuttons.push(new b(this,{left:Math.floor(this.sys.game.config.width/15),top:Math.floor(this.sys.game.config.height/3.2),addLeft:0,orX:0,orY:.5,frame:0,scale:1,txtSize:50,texto:" Mobile (touch) ",id:"mobile-control"})),this.radioFps=[],this.radioFps.push(new b(this,{left:Math.floor(this.sys.game.config.width/10),top:Math.floor(this.sys.game.config.height/1.8),addLeft:52,orX:.5,orY:.5,frame:0,scale:.9,txtSize:40,texto:"30FPS",id:"30FPS"})),this.radioFps.push(new b(this,{left:Math.floor(this.sys.game.config.width/1.6),top:Math.floor(this.sys.game.config.height/1.8),addLeft:52,orX:.5,orY:.5,frame:1,scale:.9,txtSize:40,texto:"60 FPS",id:"60FPS"}))}create(){this.add.image(0,0,"fondo").setDepth(o.depth.fondo).setOrigin(0,0),this.add.image(Math.floor(this.sys.game.config.width/1.8),Math.floor(this.sys.game.config.height/1.5),"archery-img").setOrigin(.5,.5).setDepth(o.depth.fondo+20).setAlpha(.8),this.radiobuttons.forEach((t=>t.create())),this.radioFps.forEach((t=>t.create())),this.botoninicio.create()}}const M={type:Phaser.AUTO,width:1024,height:600,parent:"game-container",backgroundColor:"#871",physics:{default:"arcade",arcade:{debug:!1}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[r,x,y,v,w,S]};new Phaser.Game(M);
